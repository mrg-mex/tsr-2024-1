<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="dofbot_arm" >


    <link name="world" />

    <joint name="world_to_base_link_joit" type="fixed">
        <parent link="world"/>
        <child link="base_link"/>
        <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
    </joint>
    
    <link
        name="base_link">
        <visual>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/base_link.STL" />
        </geometry>
        <material
            name="">
            <color
            rgba="0.75294 0.75294 0.75294 1" />
        </material>
        </visual>
        <collision>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/base_link.STL" />
        </geometry>
        </collision>
    </link>
    <link
        name="waist_link">
        <inertial>
        <origin
            xyz="4.0766E-08 -9.5693E-05 0.079382"
            rpy="0 0 0" />
        <mass
            value="0.051689" />
        <inertia
            ixx="1.1117E-05"
            ixy="-1.7636E-21"
            ixz="2.599E-21"
            iyy="9.658E-06"
            iyz="-1.3982E-20"
            izz="1.6341E-05" />
        </inertial>
        <visual>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/waist_link.STL" />
        </geometry>
        <material
            name="">
            <color
            rgba="0.75294 1 0.75294 1" />
        </material>
        </visual>
        <collision>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/waist_link.STL" />
        </geometry>
        </collision>
    </link>
    <joint
        name="base_waist_joint"
        type="revolute">
        <origin
        xyz="0.07217 0 0"
        rpy="0 0 0" />
        <parent
        link="base_link" />
        <child
        link="waist_link" />
        <axis
        xyz="0 0 1" />
        <limit
        lower="-2.618"
        upper="2.618"
        effort="1.5"
        velocity="3.1416" />
    </joint>
    <link
        name="shoulder_link">
        <inertial>
        <origin
            xyz="-0.0026577 -0.0001513 0.036757"
            rpy="0 0 0" />
        <mass
            value="0.039014" />
        <inertia
            ixx="1.684E-05"
            ixy="1.1195E-09"
            ixz="1.3557E-10"
            iyy="1.3033E-05"
            iyz="2.4457E-09"
            izz="7.6638E-06" />
        </inertial>
        <visual>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/shoulder_link.STL" />
        </geometry>
        <material
            name="">
            <color
            rgba="0.75294 1 0.75294 1" />
        </material>
        </visual>
        <collision>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/shoulder_link.STL" />
        </geometry>
        </collision>
    </link>
    <joint
        name="waist_shoulder_joint"
        type="revolute">
        <origin
        xyz="-0.0017793 0.00049752 0.10498"
        rpy="0 0 0" />
        <parent
        link="waist_link" />
        <child
        link="shoulder_link" />
        <axis
        xyz="0 1 0" />
        <limit
        lower="-2.618"
        upper="2.618"
        effort="1.5"
        velocity="3.1416" />
    </joint>
    <link
        name="arm_link">
        <inertial>
        <origin
            xyz="-0.0029633 -0.0001513 0.036757"
            rpy="0 0 0" />
        <mass
            value="0.039014" />
        <inertia
            ixx="1.684E-05"
            ixy="1.1195E-09"
            ixz="1.3557E-10"
            iyy="1.3033E-05"
            iyz="2.4457E-09"
            izz="7.6638E-06" />
        </inertial>
        <visual>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/arm_link.STL" />
        </geometry>
        <material
            name="">
            <color
            rgba="0.75294 1 0.75294 1" />
        </material>
        </visual>
        <collision>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/arm_link.STL" />
        </geometry>
        </collision>
    </link>
    <joint
        name="shoulder_arm_joint"
        type="revolute">
        <origin
        xyz="0.00030564 0 0.084119"
        rpy="0 0 0" />
        <parent
        link="shoulder_link" />
        <child
        link="arm_link" />
        <axis
        xyz="0 1 0" />
        <limit
        lower="-2.618"
        upper="2.618"
        effort="1.5"
        velocity="3.1416" />
    </joint>
    <link
        name="wrist_link">
        <inertial>
        <origin
            xyz="-0.003355 -1.0383E-05 0.035742"
            rpy="0 0 0" />
        <mass
            value="0.04388" />
        <inertia
            ixx="1.4107E-05"
            ixy="1.0323E-09"
            ixz="-9.7935E-07"
            iyy="1.5344E-05"
            iyz="3.5666E-09"
            izz="9.3532E-06" />
        </inertial>
        <visual>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/wrist_link.STL" />
        </geometry>
        <material
            name="">
            <color
            rgba="0.75294 1 0.75294 1" />
        </material>
        </visual>
        <collision>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/wrist_link.STL" />
        </geometry>
        </collision>
    </link>
    <joint
        name="arm_wrist_joint"
        type="revolute">
        <origin
        xyz="0.00030564 0 0.084119"
        rpy="0 0 0" />
        <parent
        link="arm_link" />
        <child
        link="wrist_link" />
        <axis
        xyz="0 1 0" />
        <limit
        lower="-2.618"
        upper="2.618"
        effort="1.5"
        velocity="3.1416" />
    </joint>
    <link
        name="hand_link">
        <inertial>
        <origin
            xyz="0.013681 -0.0021076 0.025809"
            rpy="0 0 0" />
        <mass
            value="0.05608" />
        <inertia
            ixx="9.7798E-06"
            ixy="-1.9352E-08"
            ixz="-6.004E-08"
            iyy="3.7845E-06"
            iyz="3.1265E-08"
            izz="8.1837E-06" />
        </inertial>
        <visual>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/hand_link.STL" />
        </geometry>
        <material
            name="">
            <color
            rgba="0.75294 1 0.75294 1" />
        </material>
        </visual>
        <collision>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/hand_link.STL" />
        </geometry>
        </collision>
    </link>
    <joint
        name="wrist_hand_joint"
        type="revolute">
        <origin
        xyz="0.0016634 -4.333E-05 0.078049"
        rpy="0 0 0" />
        <parent
        link="wrist_link" />
        <child
        link="hand_link" />
        <axis
        xyz="0.0020642 0 1" />
        <limit
        lower="-2.618"
        upper="2.618"
        effort="1.5"
        velocity="3.1416" />
    </joint>
    <link
        name="end_efector">
        <inertial>
        <origin
            xyz="-0.0023697 -0.0012951 -0.042439"
            rpy="0 0 0" />
        <mass
            value="0.024858" />
        <inertia
            ixx="4.761E-06"
            ixy="1.6573E-11"
            ixz="6.7243E-09"
            iyy="3.3465E-06"
            iyz="-8.0284E-09"
            izz="1.5035E-06" />
        </inertial>
        <visual>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/end_efector.STL" />
        </geometry>
        <material
            name="">
            <color
            rgba="0.89804 0.91765 0.92941 1" />
        </material>
        </visual>
        <collision>
        <origin
            xyz="0 0 0"
            rpy="0 0 0" />
        <geometry>
            <mesh
            filename="package://dofbot_description/meshes/end_efector.STL" />
        </geometry>
        </collision>
    </link>
    <joint
        name="EF"
        type="fixed">
        <origin
        xyz="-0.00017603 0 0.085277"
        rpy="0 0 0" />
        <parent
        link="hand_link" />
        <child
        link="end_efector" />
        <axis
        xyz="0 0 0" />
    </joint>


        <!-- Transmission macro -->
    <xacro:macro name="SimpleTransmissionPosition" params="joint n">
        <transmission name="tran${n}">
            <type>transmission_interface/SimpleTransmission</type>
            <joint name="${joint}">
                <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
            </joint>
            <actuator name="motor${n}">
                <mechanicalReduction>1</mechanicalReduction>
            </actuator>
        </transmission>
    </xacro:macro>


    <!-- Transmission macro -->
    <xacro:macro name="SimpleTransmissionEffort" params="joint n">
        <transmission name="tran${n}">
            <type>transmission_interface/SimpleTransmission</type>
            <joint name="${joint}">
                <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            </joint>
            <actuator name="motor${n}">
                <mechanicalReduction>1</mechanicalReduction>
            </actuator>
        </transmission>
    </xacro:macro>

    <!-- Transmission 1 -->
    <xacro:SimpleTransmissionPosition n="1" joint="base_waist_joint" />

    <!-- Transmission 2 -->
    <xacro:SimpleTransmissionPosition n="2" joint="waist_shoulder_joint" />

    <!-- Transmission 3 -->
    <xacro:SimpleTransmissionPosition n="3" joint="shoulder_arm_joint" />

    <!-- Transmission 4 -->
    <xacro:SimpleTransmissionPosition n="4" joint="arm_wrist_joint" />

    <!-- Transmission 5 -->
    <xacro:SimpleTransmissionPosition n="5" joint="wrist_hand_joint" />

    <gazebo>
        <plugin name="control" filename="libgazebo_ros_control.so">
            <robotNamespace>/</robotNamespace>
        </plugin>
    </gazebo>

    <gazebo reference="base_link">
        <material>Gazebo/Grey</material>
    </gazebo>

    <gazebo reference="waist_link">
        <material>Gazebo/Green</material>
        
    </gazebo>

    <gazebo reference="shoulder_link">
        <material>Gazebo/Green</material>
        
    </gazebo>

    <gazebo reference="arm_link">
        <material>Gazebo/Green</material>
        
    </gazebo>

    <gazebo reference="wrist_link">
        <material>Gazebo/Green</material>
        
    </gazebo>

    <gazebo reference="hand_link">
        <material>Gazebo/Green</material>
        
    </gazebo>



</robot>